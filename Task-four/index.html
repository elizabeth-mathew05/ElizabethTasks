<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Memory Game - Card UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gradient-to-br from-pink-100 to-purple-200 min-h-screen">
    <div class="max-w-xl mx-auto mt-10 p-6 bg-white rounded-3xl shadow-2xl">
      <div
        class="flex flex-col sm:flex-row sm:justify-between items-center mb-8 gap-2"
      >
        <h1 class="text-3xl font-extrabold text-purple-600 tracking-wide">
          Card Match Game
        </h1>
        <button
          id="restartBtn"
          class="bg-purple-500 hover:bg-purple-600 text-white px-5 py-2 rounded-xl shadow"
        >
          Restart
        </button>
      </div>
      <div id="gameBoard" class="grid grid-cols-4 gap-4"></div>
    </div>
    <script>
      const symbols = ["ðŸ˜€", "ðŸ˜‚", "ðŸ˜", "ðŸ˜Ž", "ðŸ˜­", "ðŸ˜¡", "ðŸ˜±", "ðŸ¤©"];
      let cards = [];
      let flipped = [];
      let matched = [];
      const gameBoard = document.getElementById("gameBoard");
      const restartBtn = document.getElementById("restartBtn");

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function setupBoard() {
        cards = shuffle([...symbols, ...symbols]).map((symbol, idx) => ({
          id: idx,
          symbol,
          flipped: false,
          matched: false,
        }));
        flipped = [];
        matched = [];
        renderBoard();
      }

      function renderBoard() {
        gameBoard.innerHTML = "";
        cards.forEach((card) => {
          const cardDiv = document.createElement("div");
          cardDiv.className = `relative flex items-center justify-center aspect-square w-full max-w-[80px] sm:max-w-[100px] rounded-2xl shadow-lg cursor-pointer transition-transform duration-300 ${card.flipped || card.matched ? "bg-gradient-to-br from-purple-200 to-pink-100 border-2 border-purple-400" : "bg-purple-400"} `;
          cardDiv.innerHTML = `
          <span class="absolute inset-0 flex items-center justify-center text-3xl sm:text-4xl transition-opacity duration-300 ${card.flipped || card.matched ? "opacity-100" : "opacity-0"}">${card.symbol}</span>
          <span class="absolute inset-0 flex items-center justify-center text-2xl sm:text-3xl text-white ${card.flipped || card.matched ? "opacity-0" : "opacity-100"}">ðŸ‚ </span>
        `;
          cardDiv.onclick = () => handleFlip(card.id);
          gameBoard.appendChild(cardDiv);
        });
      }

      function handleFlip(id) {
        const card = cards[id];
        if (card.flipped || card.matched || flipped.length === 2) return;
        card.flipped = true;
        flipped.push(id);
        renderBoard();
        if (flipped.length === 2) {
          setTimeout(checkMatch, 700);
        }
      }

      function checkMatch() {
        const [id1, id2] = flipped;
        if (cards[id1].symbol === cards[id2].symbol) {
          cards[id1].matched = true;
          cards[id2].matched = true;
        } else {
          cards[id1].flipped = false;
          cards[id2].flipped = false;
        }
        flipped = [];
        renderBoard();
      }

      restartBtn.onclick = function () {
        setupBoard();
      };

      setupBoard();
    </script>
  </body>
</html>
